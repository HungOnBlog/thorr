{
  "name": "MDCloud v5 Status API suit",
  "description": "MDCloud v5 Status API suit",
  "default": {
    "base_url": "https://api.metadefender.local:9999/v5",
    "headers": {
      "Accept": "application/json",
      "Content-Type": "application/json",
      "apikey": "3d774dcf261286a3d7386ccddd83b2c8"
    }
  },
  "tests": [
    {
      "name": "Test status API",
      "description": "Test status API",
      "request": {
        "method": "GET",
        "path": "/status"
      },
      "assertions": [
        {
          "on": "status_code",
          "check": "exact",
          "expected": 200
        },
        {
          "on": "body",
          "check": "type",
          "expected": {
            "workflowService": {
              "name": "string",
              "instances": {
                "number": "float"
              },
              "version": "string",
              "commitHash": "string",
              "branch": "string",
              "uptime": "time",
              "expiredTime": "date::format::2006-01-02 03:04:05"
            },
            "securityService": {
              "name": "string",
              "instances": {
                "number": "float"
              },
              "version": "string",
              "commitHash": "string",
              "branch": "string",
              "uptime": "time",
              "expiredTime": "date::format::2006-01-02 03:04:05"
            },
            "gatewayService": {
              "name": "string",
              "instances": {
                "number": "float"
              },
              "version": "string",
              "commitHash": "string",
              "branch": "string",
              "uptime": "time",
              "expiredTime": "date::format::2006-01-02 03:04:05"
            },
            "message": "string"
          }
        }
      ]
    },
    {
      "name": "Test status/healthcheck API",
      "description": "Test status/healthcheck API",
      "request": {
        "method": "GET",
        "path": "/status/healthcheck"
      },
      "assertions": [
        {
          "on": "status_code",
          "check": "exact",
          "expected": 200
        },
        {
          "on": "body",
          "check": "type",
          "expected": {
            "service": "string",
            "instanceId": "string",
            "healthStatus": "string",
            "statusCode": "float",
            "con": {
              "currentConnections": "float",
              "dbPing": "float",
              "cachePing": "float",
              "kafkaPing": {
                "labs": "float",
                "platform": "float"
              }
            },
            "mem": {
              "serviceTotalMem": "float",
              "serviceMemUsage": "float",
              "serviceRss": "float"
            },
            "cpu": {
              "loadAvg1min": "float",
              "loadAvg5min": "float",
              "loadAvg15min": "float",
              "cores": "float"
            }
          }
        }
      ]
    }
  ]
}